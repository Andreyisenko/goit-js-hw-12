import{S as b,i as d,a as w}from"./assets/vendor-D0cagnvz.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(e){if(e.ep)return;e.ep=!0;const s=l(e);fetch(e.href,s)}})();function u(n){return n.map(({id:r,webformatURL:l,largeImageURL:t,tags:e,likes:s,views:c,comments:y,downloads:L})=>`<li data-id="${r}" class="gallery-item">
              <a href=${t} class="gallery-link">
              <img src=${l} class="gallery-image" alt=${e}> 
              <div class="wrap"><h2 class="title-like">Likes <span class="span-text"> ${s} </span></h2>
               <h2 class="title-views">Views <span class="span-text"> ${c} </span></h2>
               <h2 class="title-comments">Comments <span class="span-text">${y}</span> </h2>
               <h2 class="title-downloads">Downloads <span class="span-text">${L} </span></h2></div>
  </a>
              </li>`).join("")}const p=new b(".gallery a",{captionDelay:250,captionsData:"alt"}),o=document.querySelector(".gallery"),v="https://pixabay.com/api/",S="47413156-c8c9abea8f6d88937b7892740",g=document.querySelector(".feedback-form"),a=document.querySelector(".load-more");let i=document.querySelector(".loader"),h=1,f,m;g.addEventListener("submit",$);function $(n){if(h=1,i.classList.add("is-hidden"),n.preventDefault(),m=n.currentTarget.elements.photo.value.trim(),n.target.reset(),m===""){d.show({color:"red",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),i.classList.remove("is-hidden");return}async function r(){const t=new URLSearchParams({key:S,q:m,page:h,per_page:15,image_type:"photo",orientation:"horizontal",safesearch:"true"}),{data:e}=await w(`${v}?${t}`);return e}r().then(t=>{if(f=t.totalHits,!t.hits.length){d.show({color:"red",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),a.classList.replace("load-more","load-more-hidden"),o.innerHTML="",i.classList.remove("is-hidden");return}o.innerHTML="",o.insertAdjacentHTML("afterbegin",u(t.hits)),i.classList.remove("is-hidden"),o.children.length<t.totalHits&&a.classList.replace("load-more-hidden","load-more"),o.children.length>=f&&a.classList.replace("load-more","load-more-hidden"),p.refresh()}).catch(t=>{d.show({color:"red",position:"topRight",message:`${t.massage}`}),o.innerHTML="",i.classList.remove("is-hidden")}),a.addEventListener("click",l);async function l(){h+=1,a.disabled=!0;try{i.classList.remove("is-hidden");const t=await r(h);o.insertAdjacentHTML("beforeend",u(t.hits)),o.children.length>=t.totalHits&&(d.show({color:"blue",position:"topRight",message:"We're sorry, but you've reached the end of search results."}),a.classList.replace("load-more","load-more-hidden"));const s=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({left:0,top:s*2,behavior:"smooth"}),p.refresh()}catch(t){d.show({color:"red",position:"center",message:`${t}`}),console.log(t),i.classList.remove("is-hidden")}finally{g.reset(),a.disabled=!1}}}
//# sourceMappingURL=index.js.map
