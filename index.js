import{S as L,i as d,a as b}from"./assets/vendor-D0cagnvz.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(e){if(e.ep)return;e.ep=!0;const s=l(e);fetch(e.href,s)}})();function u(i){return i.map(({id:r,webformatURL:l,largeImageURL:t,tags:e,likes:s,views:c,comments:f,downloads:y})=>`<li data-id="${r}" class="gallery-item">
              <a href=${t} class="gallery-link">
              <img src=${l} class="gallery-image" alt=${e}> 
              <div class="wrap"><h2 class="title-like">Likes <span class="span-text"> ${s} </span></h2>
               <h2 class="title-views">Views <span class="span-text"> ${c} </span></h2>
               <h2 class="title-comments">Comments <span class="span-text">${f}</span> </h2>
               <h2 class="title-downloads">Downloads <span class="span-text">${y} </span></h2></div>
  </a>
              </li>`).join("")}const p=new L(".gallery a",{captionDelay:250,captionsData:"alt"}),o=document.querySelector(".gallery"),w="https://pixabay.com/api/",v="47413156-c8c9abea8f6d88937b7892740",g=document.querySelector(".feedback-form"),n=document.querySelector(".load-more");let a=document.querySelector(".loader"),h=1,m;g.addEventListener("submit",S);function S(i){if(h=1,a.classList.add("is-hidden"),i.preventDefault(),m=i.currentTarget.elements.photo.value.trim(),i.target.reset(),m===""){d.show({color:"red",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),a.classList.remove("is-hidden");return}async function r(){const t=new URLSearchParams({key:v,q:m,page:h,per_page:15,image_type:"photo",orientation:"horizontal",safesearch:"true"}),{data:e}=await b(`${w}?${t}`);return e}r().then(t=>{if(!t.hits.length){d.show({color:"red",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"}),n.classList.replace("load-more","load-more-hidden"),o.innerHTML="",a.classList.remove("is-hidden");return}o.innerHTML="",o.insertAdjacentHTML("afterbegin",u(t.hits)),a.classList.remove("is-hidden"),o.children.length<t.totalHits&&n.classList.replace("load-more-hidden","load-more"),p.refresh()}).catch(t=>{d.show({color:"red",position:"topRight",message:`${t.massage}`}),o.innerHTML="",a.classList.remove("is-hidden")}),n.addEventListener("click",l);async function l(){h+=1,console.log(m),n.disabled=!0;try{a.classList.remove("is-hidden");const t=await r(h);o.insertAdjacentHTML("beforeend",u(t.hits)),o.children.length>=t.totalHits&&(d.show({color:"blue",position:"topRight",message:"We're sorry, but you've reached the end of search results."}),n.classList.replace("load-more","load-more-hidden"));const s=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({left:0,top:s*2,behavior:"smooth"}),p.refresh()}catch(t){d.show({color:"red",position:"center",message:`${t}`}),console.log(t),a.classList.remove("is-hidden")}finally{console.log(h),g.reset(),n.disabled=!1}}}
//# sourceMappingURL=index.js.map
